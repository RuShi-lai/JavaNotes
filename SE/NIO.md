#### 简介

##### 	Java BIO

同步并阻塞(传统阻塞型)，服务器实现模式为一个连接一个线程，即客户端有连接请求时服务器端就需要启动一个线程进行处理，如果这个连接不做任何事情会造成不必要的线程开销。

##### 	Java NIO 

同步非阻塞，服务器实现模式为一个线程处理多个请求(连接)，即客户端发送的连接请求都会注册到多路复用器上，多路复用器轮询到连接有I/O请求就进行处理。

![](https://www.ydlclass.com/doc21xnv/assets/image-20210916114642170.9913fe9c.png)

#### 操作系统相关概念

##### 	用户态和核心态

1. 内核态：cpu可以访问内存的所有数据，包括外围设备，例如硬盘，网卡，CUP也可以将自己从一个程序切换到另一个程序。
2. 用户态：只能受限的访问内存，且不允许访问外围设备，占用CPU的能力被剥夺。
3. 什么时候切换：用户态在需要申请外部资源的时候会切换至内核态，执行系统调用、发生中断、异常等，内核态执行完成会回退至用户态

##### 	系统调用

1. 由操作系统实现提供的所有系统调用所构成的集合即程序接口或应用编程接口(Application Programming Interface，API)。【应用程序】同系统之间的接口。

2. ​ 系统调用是操作系统开发的接口，开发者可以使用【系统调用】获取系统资源。就是操作系统的代码开放了一些接口让你使用，比如创建个文件，读取个文件。


##### 	系统中断

【中断源】是指能够引起中断的原因。一台【处理器】可能有很多中断源,

中断分类：

1. 机器故障中断，比如掉电。
2. 程序性中断。现行程序本身的异常事件引起的，可分为以下三种：一是程序性错误，非法操作和除数为零等；二是产生特殊的运算结果，例如定点溢出；三是程序出现某些预先确定要跟踪的事件，跟踪操作主要用于[程序调试open in new window](https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95)。有些机器把程序性中断称为“异常”，不称为中断。
3. IO－【输出设备】中断，IO中断。
4. 外中断。来自控制台【中断开关】、计时器、时钟或其他设备，这类中断的处理较简单，实时性强。
5. 调用管理程序。用户程序利用专用指令“调用管理程序”发【中断请求】，是用户程序和操作系统之间的联系桥梁。

中断好处

1. 分时操作，解决CPU的快速处理和慢速IO设备的问题。
2. 实时处理，word中可以一边打字一边做拼写检查。
3. 故障处理，会优先处理故障。

##### DMA

​ DMA(Direct Memory Access，直接存储器访问) ，它允许不同速度的硬件装置来沟通，而不需要依赖于[ CPU ](https://baike.baidu.com/item/ CPU /120556)的大量中断负载。否则，CPU 需要从来源把每一片段的资料复制到暂存器，然后把它们再次写回到新的地方。在这个时间中，CPU 对于其他的工作来说就无法使用。

​ 当CPU需要访问外设（磁盘、网卡、usb）的数据时，将任务丢给DMA，有DMA负责利用总线将数据先拷贝到内存，DMA传输前，CPU要把总线控制权交给DMA控制器，而在结束DMA传输后，DMA控制器应立即把总线控制权再交回给CPU。传输结束后，发出中断信号，通知CPU。